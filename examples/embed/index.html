<!DOCTYPE html>
<html class="no-js">
	<head>
		<meta charset="utf-8">
		<meta http-equiv="X-UA-Compatible" content="IE=edge">
		<title>Widgetfly demonstration - Embed code</title>
		<meta name="description" content="">
		<meta name="viewport" content="width=device-width, initial-scale=1">

		<link rel="stylesheet" href="../dev/css/bootstrap.min.css">
		<!-- Optional theme -->
		<link rel="stylesheet" href="../dev/css/bootstrap-theme.min.css">

		<link rel="stylesheet" href="../dev/main.css">

	</head>
	<body>
		<div class="bs-docs-header" id="content">
				<div class="container">
					<h1>Widgetfly</h1>
					<p><small>A javascript library for building cross-site web widgets.</small></p>
				</div>
			</div>
			<!-- Begin page content -->
			<div class="container" id="main">
				<h2>
					Panel and Modal interaction
				</h2>
				<h3>
					Example:
				</h3>
				<script>
					(function(callback) {
									var js = document.createElement('script'); js.type = 'text/javascript'; js.async = true;
									js.src = '../../dist/widgetfly.js#type=modal&backdrop=true&show=false&src=http://hsfeng.github.io/widgetfly-showcase/examples/widgets/filechooser/modal.html';
									js.onload = function() {
										callback(Widgetfly.Mediator.getWidget(js.getAttribute('data-id')));
									};
									document.currentScript.parentNode.appendChild(js);
							})(function(widget){
								widget.on('selected', function(path){
									document.querySelector('.file').innerHTML = path;
								});
								window.modal = widget;
							});
				</script>
				<div class="mypanel">
					<script>
						 (function(callback) {
				            var js = document.createElement('script'); js.type = 'text/javascript'; js.async = true;
				            js.src = '../../dist/widgetfly.js#type=panel&show=true&src=http://hsfeng.github.io/widgetfly-showcase/examples/widgets/panel.html';
										js.onload = function() {
											callback(Widgetfly.Mediator.getWidget(js.getAttribute('data-id')));
										};
				           	document.currentScript.parentNode.appendChild(js);
				        })(function(widget){
									widget.on('openModalWidget', function() {
										window.modal.show();
									});
								});
					</script>
				</div>
				<div>FileChooser return: <span class="file text-success">N/a</span></div>

				<h2>
					Popover
				</h2>
				<h3>
					Example:
				</h3>
				<div class="mypopover">
					<button id="target-right" type="button" class="btn btn-default" title="Popover on right">Popover on right
					<script>
						 (function(callback) {
				            var js = document.createElement('script'); js.type = 'text/javascript'; js.async = true;
				            js.src = '../../dist/widgetfly.js#type=popover&show=false&src=http://hsfeng.github.io/widgetfly-showcase/examples/widgets/popover.html';
				            js.onload = function() {
		    					callback(Widgetfly.Mediator.getWidget(js.getAttribute('data-id')));
		  					};
				           	document.currentScript.parentNode.appendChild(js);
				        })(function(widget){
				        	//do something with widget
									document.querySelector('#target-right').onclick = function(){
										widget.toggle();
									};
				        });
					</script>
					</button>
				</div>
			</div>
	</body>
</html>
